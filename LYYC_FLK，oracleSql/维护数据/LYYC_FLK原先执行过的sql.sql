


----产品信息
SELECT * FROM BI_PRODUCT_UNITU WHERE PRODUCT_CODEU='150600002049';
SELECT UNIT_CODEU,TRANSFER_RATE FROM BI_PRODUCT_UNITU WHERE UNIT_TYPEU=1;

----配盘管理
--UPDATE BI_MATCH_PALLETU SET ACTIVEU='0' WHERE LENGTH(MATCH_PALLET_CODEU) >LENGTH('HQQXBYH-2001');
SELECT * FROM BI_MATCH_PALLETU WHERE LENGTH(MATCH_PALLET_CODEU) >LENGTH('HQQXBYH-2001');
SELECT * FROM BI_MATCH_PALLET_DETAILU WHERE PRODUCT_CODEU='150600002049';
SELECT * FROM BI_MATCH_PALLET_DETAILU WHERE MATCH_PALLET_CODEU='HQQXBYH-1003';
SELECT * FROM BI_MATCH_PALLET_DETAILU
  WHERE MATCH_PALLET_CODEU IN
  (SELECT MATCH_PALLET_CODEU FROM BI_MATCH_PALLETU WHERE BRAND_CODESU='69010281617180001' AND MATCH_PALLET_CODEU LIKE '%1001%');


----如何对比出BI_PRODUCT_UNITU和BI_MATCH_PALLET_DETAILU的转换率是否都一致？？？
SELECT CASE WHEN WAREHOUSE_TRANSFER_RATEU != TRANSFER_RATEU  THEN 0 ELSE 1 END AS TRANSFER_RATEU, PRODUCT_CODEU
  FROM(SELECT PALLET_DETAIL.PRODUCT_CODEU, PALLET_DETAIL.WAREHOUSE_TRANSFER_RATEU, PRODUCT_UNIT.TRANSFER_RATEU
      FROM BI_MATCH_PALLET_DETAILU PALLET_DETAIL
      INNER JOIN BI_PRODUCT_UNITU PRODUCT_UNIT ON PRODUCT_UNIT.PRODUCT_CODEU = PALLET_DETAIL.PRODUCT_CODEU AND PRODUCT_UNIT.UNIT_TYPEU=1)
  ORDER BY TRANSFER_RATEU; --这只对比了仓库单位
SELECT CASE WHEN TRANSFER_RATEU01 != TRANSFER_RATEU  THEN 0 ELSE 1 END AS TRANSFER_RATEU, PRODUCT_CODEU
  FROM(SELECT PALLET_DETAIL.PRODUCT_CODEU, PALLET_DETAIL.WORKSHOP_TRANSFER_RATEU AS TRANSFER_RATEU01, PRODUCT_UNIT.TRANSFER_RATEU
      FROM BI_MATCH_PALLET_DETAILU PALLET_DETAIL
      INNER JOIN BI_PRODUCT_UNITU PRODUCT_UNIT ON PRODUCT_UNIT.PRODUCT_CODEU = PALLET_DETAIL.PRODUCT_CODEU AND PRODUCT_UNIT.UNIT_TYPEU=2)
  ORDER BY TRANSFER_RATEU;


----查找库存中的厂商信息*************
----查找盘位、货位
SELECT * FROM WM_PALLETU WHERE IDU='028C2BD57E43874A81A78816ACF030CB';
SELECT * FROM WM_PALLETU WHERE PALLET_TYPE_NAMEU LIKE '%%' AND BRAND_NAMESU LIKE '%红旗渠（芒果）%';
SELECT * FROM WM_PALLETU WHERE IDU IN
(
SELECT DISTINCT PALLET_IDU FROM WM_STORAGEU WHERE FACTURER_CODEU NOT IN (SELECT BI_FACTURERU.FACTURER_CODEU FROM BI_FACTURERU)
);
SELECT * FROM WM_STORAGEU WHERE LOCATION_CODEU='101002';
SELECT * FROM WM_STORAGEU WHERE PALLET_IDU IN
(SELECT IDU FROM WM_PALLETU WHERE PALLET_TYPE_NAMEU LIKE '%%' AND BRAND_NAMESU LIKE '%红旗渠（芒果）%');
SELECT * FROM WM_STORAGEU WHERE FACTURER_NAMEU LIKE '%河南桐裕%'AND LENGTH(LOCATION_CODEU)=8;
----查找厂商时使用NOT IN时候，要注意值是否为null
SELECT * FROM BI_FACTURERU WHERE FACTURER_CODEU NOT IN
( 
  SELECT DISTINCT FACTURER_CODEU FROM WM_STORAGEU WHERE LENGTH(LOCATION_CODEU)=8 AND FACTURER_CODEU IS NOT NULL  --一定要考虑数值是否为null，不然得到的是错误的结果
);

SELECT * FROM WM_PALLETU WHERE LENGTH(LOCATION_CODEU)=8 ORDER BY UPDATE_TIMEU DESC;
SELECT DISTINCT FACTURER_CODEU, FACTURER_NAMEU, LOCATION_CODEU FROM WM_STORAGEU WHERE LENGTH(LOCATION_CODEU)=8 AND FACTURER_NAMEU LIKE '%新郑金芒果%';
SELECT * FROM BI_FACTURERU;
SELECT * FROM WM_PALLETU WHERE LOCATION_CODEU='02-21-01';
SELECT * FROM WM_STORAGEU WHERE PALLET_IDU IN
  (SELECT IDU FROM WM_PALLETU WHERE WM_PALLETU.BRAND_NAMESU='黄金叶(硬帝豪)');
SELECT * FROM WM_STORAGEU WHERE PALLET_IDU IN
  (SELECT IDU FROM WM_PALLETU WHERE WM_PALLETU.PALLET_TYPE_CODEU LIKE '%1003%' AND BRAND_NAMESU NOT LIKE '%红旗渠（芒果）%'); --卷接盘
SELECT * FROM WM_STORAGEU WHERE PALLET_IDU IN
  (SELECT IDU FROM WM_PALLETU WHERE WM_PALLETU.PALLET_TYPE_CODEU LIKE '%2002%' OR WM_PALLETU.PALLET_TYPE_CODEU LIKE '%2001%'); --箱皮
----查找库存中的厂商信息//////////////

----查找设备相关信息表
SELECT * FROM EM_EQUIPMENT_TASKU;
SELECT * FROM TM_OPERATION_EQUIPMENTU;
SELECT * FROM TM_WORK_EQUIPMENTU;


----////////机组呼叫，结单
SELECT * FROM WM_MACHINE_CALLU WHERE IDU='A9CE6BC276A7BC408898B2278D507080';
SELECT * FROM BI_MATCH_PALLET_DETAILU WHERE MATCH_PALLET_CODEU IN
  (SELECT WM_MACHINE_CALLU.MATCH_PALLET_CODEU FROM WM_MACHINE_CALLU WHERE IDU='14A68CD10484004E8DB1E6F24D99E615');
SELECT * FROM WM_MACHINE_PALLETU  WHERE WORK_POSITION_NOU='108002';
SELECT * FROM WM_MACHINE_CALLU WHERE PRODUCTION_PLAN_NOU='P202008050031' AND MACHINE_CODEU='B201';
SELECT * FROM WM_MACHINE_CALLU WHERE PALLET_BARCODEU='03790263'  AND MACHINE_CODEU='B201';
SELECT * FROM WM_MACHINE_CALL_DETAILU 
  WHERE MACHINE_CALL_IDU IN (SELECT IDU FROM WM_MACHINE_CALLU WHERE TASK_NOU='11961');
SELECT * FROM WM_MACHINE_CALL_DETAILU WHERE PRODUCT_CODEU='03060200000000071';
----余料退库4,移交退料5
SELECT * FROM WM_MACHINE_CALLU WHERE CALL_TYPEU=3 AND TASK_NOU='10319'; --03790263
-----查询机组移交
SELECT * FROM WM_MACHINE_HANDOVERU ORDER BY CREATE_TIMEU DESC;
SELECT * FROM WM_MACHINE_HANDOVER_DETAILU ORDER BY UPDATE_TIMEU DESC, TRANSFER_BILL_NOU;
SELECT * FROM WM_MACHINE_HANDOVERU WHERE TRANSFER_BILL_NOU='T202008180004' ORDER BY CREATE_TIMEU DESC;
SELECT RECEIVE_QUANTITYU, TRANSFER_QUANTITYU, TRANSFER_RATEU, TRANSFER_BILL_NOU, TO_CHAR(CREATE_TIMEU, 'yy-mm-dd hh24:mi:ss')
  FROM WM_MACHINE_HANDOVER_DETAILU 
  WHERE RECEIVE_QUANTITYU != TRANSFER_QUANTITYU ORDER BY UPDATE_TIMEU DESC, TRANSFER_BILL_NOU;
SELECT * FROM WM_MACHINE_HANDOVERU
   WHERE CURRENT_PLANU='P202008120024' ORDER BY CREATE_TIMEU DESC;
SELECT * FROM WM_MACHINE_HANDOVER_DETAILU WHERE TRANSFER_BILL_NOU =
  (SELECT TRANSFER_BILL_NOU FROM WM_MACHINE_HANDOVERU WHERE CURRENT_PLANU='P202008120024' AND ROWNUM=1)
  ORDER BY UPDATE_TIMEU DESC, TRANSFER_BILL_NOU;
-----//////////////



----设备状态
SELECT * FROM EM_EQUIPMENT_STATUSU WHERE EQUIPMENT_STATUS_CODEU='4';
SELECT * FROM EM_EQUIPMENT_ALARMU WHERE ALARM_CODEU='AGV_0000';


----单据
SELECT * FROM WM_OUT_BILLU WHERE OUT_BILL_STATUSU='5' ORDER BY MAKE_TIMEU DESC;
SELECT * FROM WM_OUT_BILLU WHERE OUT_BILL_STATUSU!='5' ORDER BY MAKE_TIMEU DESC;
-----update WM_OUT_BILLU SET OUT_BILL_STATUSU='5';
SELECT * FROM WM_IN_BILLU;
SELECT * FROM WM_IN_BILL_ALLOTU WHERE LOCATION_CODEU='01-15-02';

----数据词典
SELECT * FROM SYS_DICTIONARYU;
SELECT * FROM SYS_DICTIONARYU WHERE DICTIONARY_NAMEU LIKE '%单据%' ORDER BY DICTIONARY_GROUP_IDU;
SELECT * FROM SYS_DICTIONARYU WHERE IDU='8B6ACF77993F5141940FBA65861E3B5A' ORDER BY DICTIONARY_GROUP_IDU;
SELECT * FROM SYS_DICTIONARY_DETAILU where DICTIONARY_IDU IN (SELECT IDU FROM SYS_DICTIONARYU WHERE DICTIONARY_NAMEU LIKE '%单据类型%' ) ORDER BY VALUEU;
SELECT * FROM SYS_DICTIONARY_DETAILU where DICTIONARY_IDU IN (SELECT IDU FROM SYS_DICTIONARYU WHERE DICTIONARY_KEYU LIKE '%JobStatus%' ) ORDER BY VALUEU;
